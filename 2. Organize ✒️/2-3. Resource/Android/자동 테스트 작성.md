>(1) 날짜: 2024.06.09
>(2) 태그(주제/카테고리): #안드로이드 #테스트 #Junit 

>(3) Link
- [[Android]]
---

## 테스트란?
> 소프트웨어의 테스트는 소프트웨어가 예상대로 작동하는지 확인하는 구조화된 방법입니다. 자동 테스트는 개발자가 작성한 코드의 또 다른 부분이 올바르게 작동하는지 확인하는 코드입니다.


## 테스트의 중요성
- 테스트는 앱 개발 프로세스에서 중요한 부분입니다.
- 앱 테스트를 일관되게 실행하여 앱을 공개적으로 출시하기 전에 앱의 정확성, 기능 동작 및 사용성을 확인할 수 있습니다.
- 변경사항이 도입될 때 테스트를 통해 기존 코드를 지속적으로 확인할 수도 있습니다.
- 앱에서 *새 기능을 만들 때마다 테스트를 만들면* 추후 앱이 성장할 때의 워크로드가 줄어듭니다.


## 자동 테스트 유형
- 로컬 테스트
	- 로컬 테스트는 *소수의 코드를 직접 테스트*하여 제대로 작동하는지 확인하는 자동 테스트의 유형입니다.
	- *함수, 클래스, 속성*을 테스트할 수 있습니다.
	- 로컬 테스트는 *워크스테이션*에서 진행됩니다. (기기나 애뮬레이터 없이도 개발 환경에서 실행됩니다.)
	- 컴퓨터 리소스의 오버헤드도 매우 낮으므로 제한된 리소스에서 빠르게 실행할 수 있습니다.
	- *Android 스튜디오*에서 로컬 테스트를 자동으로 실행할 수 있습니다.
- 계측 테스트
	- Android 개발 측면에서의 계측 테스트는 *UI 테스트*를 의미합니다.
	- Android API와 플랫폼 API 및 서비스에 종속된 앱 일부를 테스트할 수 있습니다.
	- UI 테스트에서는 앱이나 앱의 일부를 실행하고 *사용자 상호작용을 시뮬레이션*하여 앱이 적절하게 반응했는지 확인합니다.
	- 이 과정은 *실제 기기 또는 애뮬레이터에서 실행됩니다.*
	- Android에서 계측 테스트를 실행하면 테스트 코드는 *실제로 일반 Android 앱처럼 자체 Android APK로 빌드됩니다.*
	- APK는 기기나 애뮬레이터에서 앱을 실행하는 데 필요한 파일과 모든 코드가 포함된 압축 파일입니다.
	- 이 테스트 APK는 *일반 앱 APK와 함께 기기 또는 애뮬레이터에 설치되며*, 앱 APK를 위한 테스트를 실행합니다.


## 로컬 테스트 작성
1. **Project** 뷰로 변경 후 **src** 디렉터리 하위에 **test** 디렉터리 생성합니다.
2. **New Directory** 창에서 **test/java**를 선택합니다.
3. **test** 디렉터리에는 앱 코드가 있는 **main** 디렉터리와 동일한 패키지 구조가 필요하므로 로컬 테스트도 `test > java > com > example > tiptime`에 작성됩니다.
4. 이러한 구조를 만들기 위해 `test/java` 디렉터리 하위에 `com.example.tiptime` 패키지를 만듭니다.
5. 테스트 코드를 작성하기 위해 `com.example.tiptime` 디렉터리 하위에 새로운 **Kotlin Class 파일**을 생성합니다.
6. 앱 코드를 테스트하려면 *앱의 함수를 직접 호출*하여 반환 값이 함수에 전달한 값을 기준으로 *예상값과 일치하는지 확인*합니다.
	- 이때 알아야 할 것은 다음과 같습니다.
		- 메서드 형태로 자동 테스트를 작성합니다.
		- 메서드에 `@Test` 주석을 답니다. 이렇게 하면 *컴파일러에 메서드가 테스트 메서드임을 알리고* 적절하게 메서드가 실행됩니다.
		- 이름에 테스트의 내용과 예상 결과가 명확하게 설명되어 있는지 확인합니다.
		- 테스트 메서드는 앱의 UI 또는 로직이 올바르게 작동하는지 확신하도록 하는 일련의 명령만 실행합니다. **(항목이 구현되는 방식에는 관심이 없습니다.)**
		- 테스트는 일반적으로 특정 조건이 충족되었는지 확인하는 데 사용하는 *어설션*으로 끝납니다. 이는 이름에 `assert`가 있는 메서드 호출의 형태로 제공됩니다.
		- 어설션 문은 대부분의 테스트에서 사용되지만 실제 앱 코드에서는 거의 사용되지 않습니다.


## JUnit Assertions
- `assertEquals()`
- `assertNotEquals()`
- `assertTrue()`
- `assertFalse()`
- `assertNull()`
- `assertNotNull()`
- `assertThat()`
- 더 많은 어설션의 정보는 [이 링크](https://developer.android.com/reference/junit/framework/Assert?hl=ko)를 확인하세요.


>(5) Reference
- https://developer.android.com/codelabs/basic-android-kotlin-compose-write-automated-tests?hl=ko&continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-compose-unit-2-pathway-3%3Fhl%3Dko%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-compose-write-automated-tests#0